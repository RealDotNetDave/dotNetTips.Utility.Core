<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8' />
<title>DisassemblyDiagnoser Output dotNetTips.Utility.Benchmarks.Extensions.ExceptionExtensionsPerfTestRunner-20210228-164334</title>

<style type="text/css">
    table { border-collapse: collapse; display: block; width: 100%; overflow: auto; }
    td, th { padding: 6px 13px; border: 1px solid #ddd; text-align: left; }
    tr { background-color: #fff; border-top: 1px solid #ccc; }
    tr:nth-child(even) { background: #f8f8f8; }
</style>
</head>
<body>
<table>
<thead>
<tr><th colspan="1">dotNetTips.Utility.Benchmarks.Extensions.ExceptionExtensionsPerfTestRunner-20210228-164334</th></tr>
<tr>
<th>GetAllMessages .NET Core 3.1.12 (CoreCLR 4.700.21.6504, CoreFX 4.700.21.6905), X64 RyuJIT</th>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align:top;"><pre><code>
dotNetTips.Utility.Benchmarks.Extensions.ExceptionExtensionsPerfTestRunner.GetAllMessages()
            var innerEx = new SecurityException("Messsage from SecurityException", new DataServiceClientException("Cannot access service!"));
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            var ex = new SecurityAccessDeniedException("Message from SecurityAccessDeniedException", innerEx);
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            this.Consumer.Consume(ex.GetAllMessages());
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
push      rdi
push      rsi
push      rbx
sub       rsp,20
mov       rsi,rcx
mov       rcx,offset MT_System.Data.Services.Client.DataServiceClientException
call      CORINFO_HELP_NEWSFAST
mov       rdi,rax
mov       dword ptr [rdi+70],0E0434352
mov       dword ptr [rdi+74],80131500
mov       rdx,17C42E03BD8
mov       rdx,[rdx]
lea       rcx,[rdi+10]
call      CORINFO_HELP_ASSIGN_REF
xor       ecx,ecx
mov       [rdi+20],rcx
mov       dword ptr [rdi+74],80131501
mov       dword ptr [rdi+74],80131509
lea       rcx,[rdi+78]
mov       dword ptr [rcx],1F4
mov       rcx,offset MT_System.Security.SecurityException
call      CORINFO_HELP_NEWSFAST
mov       rbx,rax
mov       dword ptr [rbx+70],0E0434352
mov       dword ptr [rbx+74],80131500
mov       rdx,17C42E03BE0
mov       rdx,[rdx]
lea       rcx,[rbx+10]
call      CORINFO_HELP_ASSIGN_REF
lea       rcx,[rbx+20]
mov       rdx,rdi
call      CORINFO_HELP_ASSIGN_REF
mov       dword ptr [rbx+74],80131501
mov       dword ptr [rbx+74],8013150A
mov       rcx,offset MT_System.ServiceModel.Security.SecurityAccessDeniedException
call      CORINFO_HELP_NEWSFAST
mov       rdi,rax
mov       dword ptr [rdi+70],0E0434352
mov       dword ptr [rdi+74],80131500
mov       rdx,17C42E03BE8
mov       rdx,[rdx]
lea       rcx,[rdi+10]
call      CORINFO_HELP_ASSIGN_REF
lea       rcx,[rdi+20]
mov       rdx,rbx
call      CORINFO_HELP_ASSIGN_REF
mov       rsi,[rsi+8]
call      System.Environment.get_NewLine()
mov       rdx,rax
mov       rcx,rdi
call      dotNetTips.Utility.Standard.Extensions.ExceptionExtensions.GetAllMessages(System.Exception, System.String)
mov       edx,[rsi]
lea       rcx,[rsi+8]
mov       rdx,rax
call      CORINFO_HELP_CHECKED_ASSIGN_REF
nop
add       rsp,20
pop       rbx
pop       rsi
pop       rdi
ret

System.Environment.get_NewLine()
mov       rax,17C42E030F8
mov       rax,[rax]
ret

dotNetTips.Utility.Standard.Extensions.ExceptionExtensions.GetAllMessages(System.Exception, System.String)
            if (exception is null)
            ^^^^^^^^^^^^^^^^^^^^^^
                throw new ArgumentNullException(nameof(exception));
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            if (string.IsNullOrEmpty(separator))
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                throw new ArgumentException($"'{nameof(separator)}' cannot be null or empty", nameof(separator));
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            var messages = exception.FromHierarchy(ex => ex.InnerException).Select(ex => ex.Message);
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
            return string.Join(separator, messages);
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
push      rdi
push      rsi
push      rbx
sub       rsp,20
mov       rsi,rdx
test      rcx,rcx
je        near ptr 00007FFF60BFE6EB
test      rsi,rsi
je        near ptr 00007FFF60BFE686
cmp       dword ptr [rsi+8],0
jbe       near ptr 00007FFF60BFE686
mov       rax,17C62E08850
mov       r8,[rax]
mov       rdi,rcx
test      r8,r8
jne       short 00007FFF60BFE5DF
mov       rcx,offset MT_System.Func`2[[System.Exception, System.Private.CoreLib],[System.Exception, System.Private.CoreLib]]
call      CORINFO_HELP_NEWSFAST
mov       rbx,rax
mov       rdx,17C62E08848
mov       rdx,[rdx]
test      rdx,rdx
je        near ptr 00007FFF60BFE6D9
lea       rcx,[rbx+8]
call      CORINFO_HELP_ASSIGN_REF
mov       rdx,offset dotNetTips.Utility.Standard.Extensions.ExceptionExtensions+<>c.<GetAllMessages>b__3_0(System.Exception)
mov       [rbx+18],rdx
mov       rcx,17C62E08850
mov       rdx,rbx
call      CORINFO_HELP_CHECKED_ASSIGN_REF
mov       r8,rbx
mov       rdx,rdi
mov       rcx,offset MD_dotNetTips.Utility.Standard.Extensions.ExceptionExtensions.FromHierarchy(!!0, System.Func`2<!!0,!!0>)
call      dotNetTips.Utility.Standard.Extensions.ExceptionExtensions.FromHierarchy[[System.__Canon, System.Private.CoreLib]](System.__Canon, System.Func`2<System.__Canon,System.__Canon>)
mov       rbx,rax
mov       rcx,17C62E08858
mov       r8,[rcx]
test      r8,r8
jne       short 00007FFF60BFE65A
mov       rcx,offset MT_System.Func`2[[System.Exception, System.Private.CoreLib],[System.String, System.Private.CoreLib]]
call      CORINFO_HELP_NEWSFAST
mov       rdi,rax
mov       rdx,17C62E08848
mov       rdx,[rdx]
test      rdx,rdx
je        near ptr 00007FFF60BFE6E2
lea       rcx,[rdi+8]
call      CORINFO_HELP_ASSIGN_REF
mov       rdx,offset dotNetTips.Utility.Standard.Extensions.ExceptionExtensions+<>c.<GetAllMessages>b__3_1(System.Exception)
mov       [rdi+18],rdx
mov       rcx,17C62E08858
mov       rdx,rdi
call      CORINFO_HELP_CHECKED_ASSIGN_REF
mov       r8,rdi
mov       rdx,rbx
mov       rcx,offset MD_System.Linq.Enumerable.Select(System.Collections.Generic.IEnumerable`1<!!0>, System.Func`2<!!0,!!1>)
call      System.Linq.Enumerable.Select[[System.__Canon, System.Private.CoreLib],[System.__Canon, System.Private.CoreLib]](System.Collections.Generic.IEnumerable`1<System.__Canon>, System.Func`2<System.__Canon,System.__Canon>)
mov       rdx,rax
mov       rcx,rsi
mov       rax,offset System.String.Join(System.String, System.Collections.Generic.IEnumerable`1<System.String>)
add       rsp,20
pop       rbx
pop       rsi
pop       rdi
jmp       rax
mov       rcx,offset MT_System.ArgumentException
call      CORINFO_HELP_NEWSFAST
mov       rdi,rax
mov       ecx,41D
mov       rdx,7FFF60CD9968
call      CORINFO_HELP_STRCNS
mov       rsi,rax
mov       ecx,465
mov       rdx,7FFF60CD9968
call      CORINFO_HELP_STRCNS
mov       r8,rax
mov       rdx,rsi
mov       rcx,rdi
call      System.ArgumentException..ctor(System.String, System.String)
mov       rcx,rdi
call      CORINFO_HELP_THROW
mov       rcx,rbx
call      System.MulticastDelegate.ThrowNullThisInDelegateToInstance()
int       3
mov       rcx,rdi
call      System.MulticastDelegate.ThrowNullThisInDelegateToInstance()
int       3
mov       rcx,offset MT_System.ArgumentNullException
call      CORINFO_HELP_NEWSFAST
mov       rsi,rax
mov       ecx,5F9
mov       rdx,7FFF60CD9968
call      CORINFO_HELP_STRCNS
mov       rdx,rax
mov       rcx,rsi
call      System.ArgumentNullException..ctor(System.String)
mov       rcx,rsi
call      CORINFO_HELP_THROW
int       3

</code></pre></td>
</tr>
</tbody>
</table>
</body>
</html>
