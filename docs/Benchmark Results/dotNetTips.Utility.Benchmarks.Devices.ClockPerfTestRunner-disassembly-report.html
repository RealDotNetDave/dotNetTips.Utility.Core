<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8' />
<title>DisassemblyDiagnoser Output dotNetTips.Utility.Benchmarks.Devices.ClockPerfTestRunner-20210503-184212</title>

<style type="text/css">
    table { border-collapse: collapse; display: block; width: 100%; overflow: auto; }
    td, th { padding: 6px 13px; border: 1px solid #ddd; text-align: left; }
    tr { background-color: #fff; border-top: 1px solid #ccc; }
    tr:nth-child(even) { background: #f8f8f8; }
</style>
</head>
<body>
<table>
<thead>
<tr><th colspan="5">dotNetTips.Utility.Benchmarks.Devices.ClockPerfTestRunner-20210503-184212</th></tr>
<tr>
<th>TestDaysInCurrentMonth .NET Core 3.1.14 (CoreCLR 4.700.21.16201, CoreFX 4.700.21.16208), X64 RyuJIT</th>
<th>TestDaysInCurrentUtcMonth .NET Core 3.1.14 (CoreCLR 4.700.21.16201, CoreFX 4.700.21.16208), X64 RyuJIT</th>
<th>TestLocalTime .NET Core 3.1.14 (CoreCLR 4.700.21.16201, CoreFX 4.700.21.16208), X64 RyuJIT</th>
<th>TestTickCount .NET Core 3.1.14 (CoreCLR 4.700.21.16201, CoreFX 4.700.21.16208), X64 RyuJIT</th>
<th>TestUtcTime .NET Core 3.1.14 (CoreCLR 4.700.21.16201, CoreFX 4.700.21.16208), X64 RyuJIT</th>
</tr>
</thead>
<tbody>
<tr>
<td style="vertical-align:top;"><pre><code>
dotNetTips.Utility.Benchmarks.Devices.ClockPerfTestRunner.TestDaysInCurrentMonth()
mov       rax,offset dotNetTips.Utility.Standard.Devices.Clock.get_DaysInCurrentMonth()
jmp       rax

dotNetTips.Utility.Standard.Devices.Clock.get_DaysInCurrentMonth()
push      rsi
sub       rsp,30
xor       eax,eax
mov       [rsp+28],rax
call      System.DateTime.get_Now()
mov       [rsp+28],rax
lea       rcx,[rsp+28]
xor       edx,edx
call      System.DateTime.GetDatePart(Int32)
mov       esi,eax
call      System.DateTime.get_Now()
mov       [rsp+28],rax
lea       rcx,[rsp+28]
mov       edx,2
call      System.DateTime.GetDatePart(Int32)
mov       edx,eax
mov       ecx,esi
call      System.DateTime.DaysInMonth(Int32, Int32)
nop
add       rsp,30
pop       rsi
ret

</code></pre></td>
<td style="vertical-align:top;"><pre><code>
dotNetTips.Utility.Benchmarks.Devices.ClockPerfTestRunner.TestDaysInCurrentUtcMonth()
mov       rax,offset dotNetTips.Utility.Standard.Devices.Clock.get_DaysInCurrentUtcMonth()
jmp       rax

dotNetTips.Utility.Standard.Devices.Clock.get_DaysInCurrentUtcMonth()
push      rsi
sub       rsp,30
xor       eax,eax
mov       [rsp+28],rax
call      System.DateTime.get_UtcNow()
mov       [rsp+28],rax
lea       rcx,[rsp+28]
xor       edx,edx
call      System.DateTime.GetDatePart(Int32)
mov       esi,eax
call      System.DateTime.get_UtcNow()
mov       [rsp+28],rax
lea       rcx,[rsp+28]
mov       edx,2
call      System.DateTime.GetDatePart(Int32)
mov       edx,eax
mov       ecx,esi
call      System.DateTime.DaysInMonth(Int32, Int32)
nop
add       rsp,30
pop       rsi
ret

</code></pre></td>
<td style="vertical-align:top;"><pre><code>
dotNetTips.Utility.Benchmarks.Devices.ClockPerfTestRunner.TestLocalTime()
sub       rsp,28
xor       eax,eax
mov       [rsp+20],rax
call      System.DateTime.get_Now()
mov       [rsp+20],rax
lea       rcx,[rsp+20]
xor       edx,edx
call      System.DateTime.ToLocalTime(Boolean)
nop
add       rsp,28
ret

System.DateTime.get_Now()
push      rsi
sub       rsp,40
call      System.DateTime.get_UtcNow()
mov       rsi,rax
xor       edx,edx
mov       [rsp+38],edx
lea       rdx,[rsp+38]
mov       rcx,rsi
call      System.TimeZoneInfo.GetDateTimeNowUtcOffsetFromUtc(System.DateTime, Boolean ByRef)
mov       rdx,0FFFFFFFFFFFF
and       rdx,rsi
add       rdx,rax
mov       rcx,2875F4373FFF
cmp       rdx,rcx
jle       short 00007FF88A99BE8B
xor       ecx,ecx
mov       [rsp+20],rcx
lea       rcx,[rsp+20]
mov       rdx,2875F4373FFF
mov       r8d,2
call      System.DateTime..ctor(Int64, System.DateTimeKind)
mov       rax,[rsp+20]
add       rsp,40
pop       rsi
ret
test      rdx,rdx
jge       short 00007FF88A99BEB4
xor       ecx,ecx
mov       [rsp+28],rcx
lea       rcx,[rsp+28]
xor       edx,edx
mov       r8d,2
call      System.DateTime..ctor(Int64, System.DateTimeKind)
mov       rax,[rsp+28]
add       rsp,40
pop       rsi
ret
xor       r9d,r9d
mov       [rsp+30],r9
mov       r9d,[rsp+38]
movzx     r9d,r9b
lea       rcx,[rsp+30]
mov       r8d,2
call      System.DateTime..ctor(Int64, System.DateTimeKind, Boolean)
mov       rax,[rsp+30]
add       rsp,40
pop       rsi
ret

System.DateTime.ToLocalTime(Boolean)
push      rdi
push      rsi
push      rbx
sub       rsp,50
mov       rsi,rcx
mov       edi,edx
mov       rcx,rsi
call      System.DateTime.get_Kind()
cmp       eax,2
jne       short 00007FF88A99D084
mov       rax,[rsi]
add       rsp,50
pop       rbx
pop       rsi
pop       rdi
ret
xor       ecx,ecx
mov       [rsp+48],ecx
mov       [rsp+40],ecx
mov       rbx,[rsi]
mov       rcx,14E3DE61420
mov       rcx,[rcx]
mov       rdx,[rcx+8]
test      rdx,rdx
jne       short 00007FF88A99D0AF
call      System.TimeZoneInfo+CachedData.CreateLocal()
mov       rdx,rax
lea       r8,[rsp+48]
lea       r9,[rsp+40]
mov       rcx,rbx
call      System.TimeZoneInfo.GetUtcOffsetFromUtc(System.DateTime, System.TimeZoneInfo, Boolean ByRef, Boolean ByRef)
mov       rdx,0FFFFFFFFFFFF
and       rdx,[rsi]
add       rdx,rax
mov       rcx,2875F4373FFF
cmp       rdx,rcx
jle       short 00007FF88A99D117
test      dil,dil
jne       near ptr 00007FF88A99D179
xor       ecx,ecx
mov       [rsp+28],rcx
lea       rcx,[rsp+28]
mov       rdx,2875F4373FFF
mov       r8d,2
call      System.DateTime..ctor(Int64, System.DateTimeKind)
mov       rax,[rsp+28]
add       rsp,50
pop       rbx
pop       rsi
pop       rdi
ret
test      rdx,rdx
jge       short 00007FF88A99D14B
test      dil,dil
jne       near ptr 00007FF88A99D1C7
xor       ecx,ecx
mov       [rsp+30],rcx
lea       rcx,[rsp+30]
xor       edx,edx
mov       r8d,2
call      System.DateTime..ctor(Int64, System.DateTimeKind)
mov       rax,[rsp+30]
add       rsp,50
pop       rbx
pop       rsi
pop       rdi
ret
xor       r9d,r9d
mov       [rsp+38],r9
mov       r9d,[rsp+40]
movzx     r9d,r9b
lea       rcx,[rsp+38]
mov       r8d,2
call      System.DateTime..ctor(Int64, System.DateTimeKind, Boolean)
mov       rax,[rsp+38]
add       rsp,50
pop       rbx
pop       rsi
pop       rdi
ret
mov       rcx,offset MT_System.ArgumentException
call      CORINFO_HELP_NEWSFAST
mov       rsi,rax
mov       ecx,24C2
mov       rdx,7FF88A5A4020
call      CORINFO_HELP_STRCNS
mov       rcx,rax
mov       rdx,14E3DE63060
mov       rdx,[rdx]
call      System.SR.GetResourceString(System.String, System.String)
mov       rdx,rax
mov       rcx,rsi
call      System.ArgumentException..ctor(System.String)
mov       rcx,rsi
call      CORINFO_HELP_THROW
mov       rcx,offset MT_System.ArgumentException
call      CORINFO_HELP_NEWSFAST
mov       rsi,rax
mov       ecx,24C2
mov       rdx,7FF88A5A4020
call      CORINFO_HELP_STRCNS
mov       rcx,rax
mov       rdx,14E3DE63060
mov       rdx,[rdx]
call      System.SR.GetResourceString(System.String, System.String)
mov       rdx,rax
mov       rcx,rsi
call      System.ArgumentException..ctor(System.String)
mov       rcx,rsi
call      CORINFO_HELP_THROW
int       3

</code></pre></td>
<td style="vertical-align:top;"><pre><code>
dotNetTips.Utility.Benchmarks.Devices.ClockPerfTestRunner.TestTickCount()
mov       rax,7FF8EA1C04D0
jmp       rax

</code></pre></td>
<td style="vertical-align:top;"><pre><code>
dotNetTips.Utility.Benchmarks.Devices.ClockPerfTestRunner.TestUtcTime()
mov       rax,offset System.DateTime.get_UtcNow()
jmp       rax

System.DateTime.get_UtcNow()
push      rsi
sub       rsp,40
lea       rcx,[rsp+28]
call      00007FF8EA431070
movzx     ecx,word ptr [rsp+28]
movzx     edx,word ptr [rsp+2A]
movzx     r8d,word ptr [rsp+2E]
call      System.DateTime.DateToTicks(Int32, Int32, Int32)
mov       rsi,rax
movzx     ecx,word ptr [rsp+30]
movzx     edx,word ptr [rsp+32]
movzx     r8d,word ptr [rsp+34]
call      System.DateTime.TimeToTicks(Int32, Int32, Int32)
add       rsi,rax
movzx     eax,word ptr [rsp+36]
imul      rax,2710
add       rsi,rax
add       rsi,[rsp+38]
mov       rax,0
or        rax,rsi
add       rsp,40
pop       rsi
ret

</code></pre></td>
</tr>
</tbody>
</table>
</body>
</html>
